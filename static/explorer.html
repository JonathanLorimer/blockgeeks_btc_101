<!DOCTYPE <!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Explorer</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

	<table id="blocks">
		<tr>
			<td>Block</td>
			<td>Hash</td>
			<td>Timestamp</td>
		</tr>
	</table>

	<script type="text/javascript" src="./scripts/bundle.js"></script>
	<script>
		let btc = new bitcoin()
		btc.getLastBlockNumber().then((num) => {
			for(let i = 0; i < 5; i++){
				btc.getBlock(num - i).then((block) => {
					printBlocks(block)
				})
			}
		})

		const printBlocks = block => {
			let table = document.getElementById('blocks')
			let row = table.insertRow(-1)
			let cell1 = row.insertCell(0)
			let cell2 = row.insertCell(1)
			let cell3 = row.insertCell(2)
			cell1.innerHTML = block.number
			cell2.innerHTML = block.hash
			cell3.innerHTML = block.time
		}
	</script>
</body>
</html>